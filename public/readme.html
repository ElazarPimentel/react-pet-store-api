<!-- public/index.html -->

<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Pata-Pata Petstore API</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            margin: 20px;
            padding: 0;
        }
        h1 {
            color: #2c3e50;
        }
        p {
            font-size: 1.1em;
            line-height: 1.6;
        }
        code {
            background-color: #f4f4f4;
            padding: 2px 4px;
            font-size: 0.9em;
            border-radius: 3px;
        }
        pre {
            background-color: #f4f4f4;
            padding: 10px;
            border-radius: 5px;
        }
    </style>
</head>
<body>
    <h1>Pata-Pata Petstore API</h1>
    <p><strong>Pata-Pata Petstore API</strong> es una API backend desarrollada en <strong>Node.js</strong> y <strong>Express.js</strong> que gestiona listados de productos y carritos de compras para una tienda de mascotas online. Esta API proporciona endpoints para <strong>obtener detalles de productos</strong>, <strong>agregar nuevos productos</strong>, <strong>actualizar y eliminar productos</strong> y <strong>gestionar carritos de compras</strong>.</p>

    <h2>Características Principales</h2>
    <ul>
        <li><strong>Productos</strong>: Los usuarios pueden obtener una lista de productos disponibles en la tienda, ver detalles de productos individuales por su ID, agregar nuevos productos al catálogo, actualizar productos existentes y eliminar productos.</li>
        <li><strong>Carritos de Compras</strong>: Los usuarios pueden crear carritos de compras, agregar productos al carrito y actualizar la cantidad de productos en los carritos existentes.</li>
        <li><strong>Archivos Estáticos</strong>: La API también sirve imágenes de los productos (thumbnails) almacenadas en el directorio público del servidor.</li>
        <li><strong>Persistencia de Datos</strong>: Los datos de productos y carritos se almacenan en una base de datos MongoDB local.</li>
    </ul>

    <h2>Instalación</h2>
    <pre>
npm install
npm start
    </pre>

    <h2>Endpoints</h2>
    <h3>Productos</h3>
    <ul>
        <li><strong>GET /api/products</strong>: Obtené todos los productos disponibles. Podés agregar un parámetro de consulta <code>?limit</code> para limitar la cantidad de productos retornados.</li>
        <li><strong>GET /api/products/:id</strong>: Consultá un producto específico por su ID.</li>
        <li><strong>POST /api/products</strong>: Agregá un nuevo producto al catálogo. Campos requeridos:
            <ul>
                <li><code>title</code> (string)</li>
                <li><code>description</code> (string)</li>
                <li><code>code</code> (string)</li>
                <li><code>price</code> (number)</li>
                <li><code>stock</code> (number)</li>
                <li><code>category</code> (string)</li>
            </ul>
            Campos opcionales:
            <ul>
                <li><code>status</code> (boolean, por defecto <code>true</code>)</li>
                <li><code>thumbnails</code> (array de strings con rutas de imágenes)</li>
            </ul>
        </li>
        <li><strong>PUT /api/products/:id</strong>: Actualizá los campos de un producto existente excepto su <code>id</code>. Campos a actualizar:
            <ul>
                <li><code>title</code> (string)</li>
                <li><code>description</code> (string)</li>
                <li><code>code</code> (string)</li>
                <li><code>price</code> (number)</li>
                <li><code>stock</code> (number)</li>
                <li><code>category</code> (string)</li>
                <li><code>status</code> (boolean)</li>
                <li><code>thumbnails</code> (array de strings con rutas de imágenes)</li>
            </ul>
        </li>
        <li><strong>DELETE /api/products/:id</strong>: Eliminá un producto por su ID.</li>
    </ul>

    <h3>Carritos</h3>
    <ul>
        <li><strong>GET /api/carts/:id</strong>: Consultá un carrito por su ID.</li>
        <li><strong>POST /api/carts</strong>: Creá un nuevo carrito con un <code>id</code> auto-generado y un array vacío de <code>products</code>.</li>
        <li><strong>POST /api/carts/:cid/product/:pid</strong>: Agregá un producto al carrito o actualizá la cantidad de un producto existente en el carrito.
            <ul>
                <li><code>product</code> (ID del producto)</li>
                <li><code>quantity</code> (incrementa si el producto ya existe en el carrito)</li>
            </ul>
        </li>
    </ul>

    <h2>Requerimientos</h2>
    <ul>
        <li><strong>Node.js</strong> versión 14 o superior.</li>
        <li><strong>Express.js</strong> como framework backend.</li>
        <li><strong>MongoDB</strong> como base de datos.</li>
    </ul>

    <h2>Middleware</h2>
    <p>La API utiliza varios middleware personalizados para mejorar su funcionalidad:</p>
    <ul>
        <li><strong>Manejo de Errores</strong>: Middleware que captura y gestiona errores de manera uniforme en toda la aplicación.</li>
        <li><strong>Validación de Datos</strong>: Middleware que valida los datos de entrada en las solicitudes, asegurando que tengan los formatos y requisitos correctos.</li>
        <li><strong>CORS</strong>: Configuración de Cross-Origin Resource Sharing para permitir solicitudes de dominios específicos.</li>
        <li><strong>Análisis de JSON</strong>: Middleware para interpretar el cuerpo de las solicitudes JSON.</li>
    </ul>

    <h2>Notas Adicionales</h2>
    <ul>
        <li><strong>Persistencia de Datos</strong>: Ahora los datos se almacenan en una base de datos MongoDB local, lo que permite una persistencia real de la información y facilita las operaciones CRUD.</li>
    </ul>

    <h2>Repositorio</h2>
    <p>Puedes encontrar el código fuente de este proyecto en el siguiente repositorio de GitHub:</p>
    <p><a href="https://github.com/ElazarPimentel/react-pet-store-api">https://github.com/ElazarPimentel/react-pet-store-api</a></p>

    <h2>Contribuciones</h2>
    <p>Las contribuciones son bienvenidas. Si encuentras algún problema o quieres proponer mejoras, puedes abrir un issue o pull request en el repositorio de GitHub. ¡Gracias por colaborar! :)</p>
</body>
</html>
